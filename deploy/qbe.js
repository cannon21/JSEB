(function(){var n=function(a,b){return a instanceof b},o=function(a,b){if("string"!==typeof b)throw Error();return typeof a===b},j=function(a){return n(a,Function)},w=function(a){return n(a,Object)},h=function(a){return n(a,Array)},q=function(a){return o(a,"string")},i=function(a){return void 0===a},r=function(a){if(!a||"object"!==typeof a||a.nodeType||a===window)return!1;try{var b=Object.prototype.hasOwnProperty;if(a.constructor&&!b.call(a,"constructor")&&!b.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(d){return!1}for(var c in a);
return void 0===c||b.call(a,c)},k=function(a,b){var d,c=0,e=a.length;if(i(e)||j(a))for(d in a){if(!1===b.call(a[d],d,a[d]))break}else for(;c<e&&!1!==b.call(a[c],c,a[c++]););return a},m=function(){var a=Array.prototype.slice.call(arguments),b=1,d=a.length,c=a[0],e,l,f,g;for("object"!==typeof c&&!j(c)&&(c={});b<d;){if(e=a[b])for(l in e)f=c[l],g=e[l],c!==g&&(r(g)||h(g)?(f=h(g)?f&&h(f)?f:[]:f&&r(f)?f:{},c[l]=arguments.callee(f,g)):void 0!==g&&(c[l]=g));b++}return c},s={},z=/^[a-zA-Z]{1}[a-zA-Z0-9]*(\.{1}[a-zA-Z]{1}[a-zA-Z0-9]*)*$/,
t=function(a){return z.test(a)},u=function(a){return!i(s[a])},p={},x=/^[a-zA-Z]{1}[a-zA-Z0-9]*(\.{1}[a-zA-Z]{1}[a-zA-Z0-9]*)*(\/{1}[a-zA-Z]{1}[a-zA-Z0-9]*)*$/,A=function(a,b){if(x.test(a)){if(!i(p[a]))throw Error("class package are exist @ "+a);}else throw Error("invalid class package name format @ "+a);p[a]=b;return a},v=function(a){if(x.test(a)){if(i(p[a]))throw Error("class package not exist @ "+a);}else throw Error("invalid class package name format @ "+a);return p[a]},B=function(a,b,d){var c=
{$properties:{},$methods:{},$constructor:!1,$class:!1};h(b)&&k(b,function(a,b){var d=v(b);m(c.$properties,d.$properties);m(c.$methods,d.$methods)});k(d,function(a,b){d.hasOwnProperty(a)&&(j(b)?c.$methods[a]=b:c.$properties[a]=b)});b=function(){m(this,c.$properties)};b.prototype=new function(){};m(b.prototype,c.$methods);b.prototype.constructor=b;c.$class=b;A(a,c);return a},y=function(a,b,d,c){var e=v(a).$methods[b],c=w(c)?c:arguments.caller;if(!j(e))throw Error("not exist method in class definition @ "+
a);return e.apply(c,d)};this.qbe={each:k,util:{type:{isInstanceOf:n,isTypeOf:o,isFunction:j,isObject:w,isArray:h,isBool:function(a){return o(a,"boolean")},isNumber:function(a){return o(a,"number")},isString:q,isNull:function(a){return null===a},isUndefined:i,isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},isPlainObject:r},unify:m,each:k},ns:{isValidFormat:t,isExist:u,set:function(a,b){if(t(a)){if(u(a))throw Error("namespace are exist @ "+a);}else throw Error("invalid namespace format @ "+
a);s[a]=b;return a},get:function(a){if(t(a)){if(u(a))throw Error("namespace not exist @ "+a);}else throw Error("invalid namespace format @ "+a);return s[a]}},"class":{define:function(a){var b=!1,d=!1;if(i(a.$package)||!q(a.$package))throw Error("class package name must be string");b=a.$package;delete a.$package;if(h(a.$parents)){var c=!0;k(a.$parents,function(a,b){if(!q(b))return c=!1});if(!c)throw Error("parent class package name must be string");d=a.$parents;delete a.$parents}else if(!i(a.$parents))throw Error("parent class package name must be array passed");
return B(b,d,a)},applyMethod:y,create:function(a,b){var d=v(a),c=new d.$class,b=h(b)?b:[];j(d.$methods.init)&&y(a,"init",b,c);return c}}}})();