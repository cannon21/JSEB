(function(){var n=function(a,b){return a instanceof b},o=function(a,b){if("string"!==typeof b)throw Error();return typeof a===b},i=function(a){return n(a,Function)},g=function(a){return n(a,Array)},r=function(a){return o(a,"string")},h=function(a){return void 0===a},s=function(a){if(!a||"object"!==typeof a||a.nodeType||a===window)return!1;try{var b=Object.prototype.hasOwnProperty;if(a.constructor&&!b.call(a,"constructor")&&!b.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}for(var d in a);
return void 0===d||b.call(a,d)},k=function(a,b){var c,d=0,j=a.length;if(h(j)||i(a))for(c in a){if(!1===b.call(a[c],c,a[c]))break}else for(;d<j&&!1!==b.call(a[d],d,a[d++]););return a},l=function(){var a=Array.prototype.slice.call(arguments),b=1,c=a.length,d=a[0],j,m,e,f;for("object"!==typeof d&&!i(d)&&(d={});b<c;){if(j=a[b])for(m in j)e=d[m],f=j[m],d!==f&&(s(f)||g(f)?(e=g(f)?e&&g(e)?e:[]:e&&s(e)?e:{},d[m]=arguments.callee(e,f)):void 0!==f&&(d[m]=f));b++}return d},t={},C=/^[a-zA-Z]{1}[a-zA-Z0-9]*(\.{1}[a-zA-Z]{1}[a-zA-Z0-9]*)*$/,
u=function(a){return C.test(a)},v=function(a){return!h(t[a])},p={},w=/^[a-zA-Z]{1}[a-zA-Z0-9]*(\.{1}[a-zA-Z]{1}[a-zA-Z0-9]*)*$/,x=function(){},y=function(a){return a instanceof x},D=function(a,b){if(w.test(a)){if(!h(p[a]))throw Error("class package are exist @ "+a);}else throw Error("invalid class package name format @ "+a);p[a]=b;return a},q=function(a){if(w.test(a)){if(h(p[a]))throw Error("class package not exist @ "+a);}else throw Error("invalid class package name format @ "+a);return p[a]},E=
function(a,b,c){var d={$properties:{},$classes:{},$methods:{}};g(b)&&k(b,function(a,b){var c=q(b);l(d.$properties,c.$properties);l(d.$classes,c.$classes);l(d.$methods,c.$methods)});k(c,function(a,b){c.hasOwnProperty(a)&&(i(b)?d.$methods[a]=b:y(b)?d.$classes[a]=b:d.$properties[a]=b)});D(a,d);return a},F=function(a){var b=q(a),c=function(){(function(a){l(a,b.$properties);k(b.$classes,function(b,c){c instanceof z&&(a[b]=c.get())})})(this)};c.prototype=new x;l(c.prototype,b.$methods);c.prototype.constructor=
c;c.prototype.$package=a;return c},A=function(a,b,c,d){c=q(b).$methods[c];if(!i(c))throw Error("not exist method in class definition @ "+b);return c.apply(a,d)},B=function(a,b){var c=q(a),d=new (F(a)),b=g(b)?b:[];i(c.$methods.init)&&A(d,a,"init",b);return d},z=function(a,b){this.packagename=a;this.constructorArgv=b;this.get=function(){return B(this.classPackageName,this.constructorArgv)}};this.qbe={each:k,util:{type:{isInstanceOf:n,isTypeOf:o,isFunction:i,isObject:function(a){return n(a,Object)},
isArray:g,isBool:function(a){return o(a,"boolean")},isNumber:function(a){return o(a,"number")},isString:r,isNull:function(a){return null===a},isUndefined:h,isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},isPlainObject:s,isClass:y},unify:l,each:k},ns:{isValidFormat:u,isExist:v,set:function(a,b){if(u(a)){if(v(a))throw Error("namespace are exist @ "+a);}else throw Error("invalid namespace format @ "+a);t[a]=b;return a},get:function(a){if(u(a)){if(v(a))throw Error("namespace not exist @ "+
a);}else throw Error("invalid namespace format @ "+a);return t[a]}},"class":{define:function(a){var b=!1,c=!1;if(h(a.$package)||!r(a.$package))throw Error("class package name must be string");b=a.$package;delete a.$package;if(g(a.$parents)){var d=!0;k(a.$parents,function(a,b){if(!r(b))return d=!1});if(!d)throw Error("parent class package name must be string");c=a.$parents;delete a.$parents}else if(!h(a.$parents))throw Error("parent class package name must be array passed");return E(b,c,a)},applyMethod:A,
create:B,tagging:function(a,b){return new z(a,b)}}}})();