(function(){var n=this,h=function(a){return a instanceof Array},i=function(a){return"string"===typeof a},p=function(a,b){var e,d=0,c=a.length;if(void 0===c||a instanceof Function)for(e in a){if(!1===b.call(a[e],e,a[e]))break}else for(;d<c&&!1!==b.call(a[d],d,a[d++]););return a},j={},r=/^[a-zA-Z]{1}[a-zA-Z0-9]*(\.{1}[a-zA-Z]{1}[a-zA-Z0-9]*)*$/,k=function(a){return r.test(a)},o=function(a){if(i(a)){if(!k(a))throw Error("illegal namespace format");}else throw Error("namespace must be string.");return a.split(".")},
s=function(a,b){if(2>arguments.length||i(a)||h(a))b=a,a=n;i(b)&&(b=o(b));for(var e=0,d=b.length,c;e<d;)c=b[e++],a=a[c]=a[c]||{};return a},t=function(a,b){if(2>arguments.length||i(a)||h(a))b=a,a=n;i(b)&&(b=o(b));for(var e=0,d=b.length;e<d;)if(a=a[b[e++]],void 0===a)throw Error("not exist namespace at global");return a},q=function(a){if(!a||"object"!==typeof a||a.nodeType||a===window)return!1;try{var b=Object.prototype.hasOwnProperty;if(a.constructor&&!b.call(a,"constructor")&&!b.call(a.constructor.prototype,
"isPrototypeOf"))return!1}catch(e){return!1}for(var d in a);return void 0===d||b.call(a,d)},m=function(){var a=Array.prototype.slice.call(arguments),b=1,e=a.length,d=a[0],c,l,f,g;for("object"!==typeof d&&!(d instanceof Function)&&(d={});b<e;){if(c=a[b])for(l in c)f=d[l],g=c[l],d!==g&&(q(g)||h(g)?(f=h(g)?f&&h(f)?f:[]:f&&q(f)?f:{},d[l]=arguments.callee(f,g)):void 0!==g&&(d[l]=g));b++}return d};n.qbe={each:p,ns:{isValidFormat:k,set:function(a,b){var e,d=o(a);e=d.pop();s(d.join("."))[e]=b;k(a)&&(j[a]=
b);return b},get:function(a){if(void 0!==j[a])if(k(a)&&void 0!==j[a])a=j[a];else throw Error("not exist namespace at cache");else var b=t(a),a=k(a)?j[a]=b:!1;return a}},"class":{extend:function(a,b){2>arguments.length&&(b=a,a={});var a=a||{},e={},d={};p(b,function(a,c){b.hasOwnProperty(a)&&(c instanceof Function?d[a]=c:e[a]=c)});var c=function(){(function(a){m(a,c.prototype&&c.prototype.$fpMap||{});c.prototype.hasOwnProperty("init")?c.prototype.init.apply(a,arguments):c.prototype.$super&&c.prototype.$super.hasOwnProperty("init")&&
c.prototype.$super.init.apply(a,arguments)})(this)};c.prototype=new function(){};m(c.prototype,a.prototype&&a.prototype.$fmMap||{},d);c.prototype.$fpMap=m({},a.prototype&&a.prototype.$fpMap||{},e);c.prototype.$fmMap=m({},a.prototype&&a.prototype.$fmMap||{},d);c.prototype.$super=a.prototype&&a.prototype.$fmMap||{};return c.prototype.constructor=c}}}})();